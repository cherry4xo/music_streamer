{
  "version": 3,
  "port": {{ .settings.port }},
  "output_encoding": "json",

  "client_tls": {
    "ca_certs": ["/etc/krakend/certs/ca.crt"]
  },

  "tls": {
      "public_key": "/etc/krakend/certs/tls.crt",
      "private_key": "/etc/krakend/certs/tls.key"
    },

  "extra_config": {
    "telemetry/logging": {
      "level": "DEBUG",
      "prefix": "[KRAKEND]",
      "stdout": true
    },
    "security/cors": {{ template "cors.tmpl" . }}
  },

  "endpoints": [
    {{ template "auth_endpoints.tmpl" . }},
    {{ template "account_endpoints.tmpl" . }}
  ]
}